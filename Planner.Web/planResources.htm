<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

	<!-- Basic Page Needs
  ================================================== -->
	<meta charset="utf-8">
	<title>Plan Resources</title>
	<meta name="description" content="">
	<meta name="author" content="">
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Mobile Specific Metas
  ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS
  ================================================== -->
	<link rel="stylesheet" href="stylesheets/base.css">
	<link rel="stylesheet" href="stylesheets/skeleton.css">
	<link rel="stylesheet" href="stylesheets/layout.css">
    <link rel="stylesheet" href="stylesheets/tables.css">

	<!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

    <script type="text/javascript" src="Scripts/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="Scripts/jquery.dateFormat-1.0.js"></script>
    <script type="text/javascript" src="Scripts/knockout-2.0.0.js"></script>
    <script type="text/javascript" src="Scripts/knockout-array-filter.js"></script>
        
    <script type="text/javascript" src="javascripts/Mixin.js"></script>
    <script type="text/javascript" src="javascripts/release.js"></script>
    <script type="text/javascript" src="javascripts/planResourcesViewmodel.js"></script>
    <script type="text/javascript" src="javascripts/ajax.js"></script>
    <script type="text/javascript" src="javascripts/Roles.js"></script>
    <script type="text/javascript" src="javascripts/UseCases.js"></script>
</head>
<body>
<!-- Primary Page Layout
	================================================== -->

	
    <div class="container">
        <div class="band navigation">
	
		    <nav class="primary container">
			    <ul>
				    <li><a href="Release.htm">Release Status</a></li>
				    <li><a href="Phases.htm">Phases Overview</a></li>
				    <li><a href="#">Administration</a>
						    <ul>
							    <li><a href="addRelease.htm"><span>- </span>Admin Release</a></li>
							    <li><a href="adminProject.htm"><span>- </span>Admin Project</a></li>
						    </ul>
				    </li>
				    <li><a href="planResources.htm"><span>- </span>Plan Resources</a></li>
			    </ul>
		    </nav>
	    </div><!--end band-->

        <section id="criteria" class="sixteen columns">
            <div id="releases" class="five columns alpha">
                Release: <select data-bind="options: allReleases, optionsText: 'title', value: selectedRelease, optionsCaption: 'Choose...'"></select>
            </div>

            <div id="Div1" class="five columns alpha">
                Phase: <select data-bind="options: selectedRelease().phases, optionsText: 'title', value: selectedPhase, optionsCaption: 'Choose...'"></select>
            </div>
            
            <div id="projects" class="five columns alpha">
                Project: <select data-bind="options: allProjects, optionsText: 'title', value: selectedProject, optionsCaption: 'Choose...'"></select>
            </div>
        </section>

        <div class="band">
            <div class="sixteen columns omega">
                <div class="five columns omega" data-bind="with: selectedRelease()">
                    Selected Release: <data data-bind="text: title"></data>
                </div>
                <div class="five columns omega" data-bind="with: selectedPhase()">
                    Selected Phase: <data data-bind="text: title"></data>
                </div>
                <div class="five columns omega" data-bind="with: selectedProject()">
                    Selected Project: <data data-bind="text: title"></data>
                </div>
            </div>
        </div>
    </div>

<script type="text/javascript">
    function loadReleases(projects) {
        var uc = new ULoadPlanResources();
        var ajx = new Ajax();
        // use closure around execute method to pass 'projects' argument as well as 'data' from getReleaseSummaries callback
        ajx.getReleaseSummaries(function (data) { uc.execute(data, projects) });
    }
    $(document).ready(function () {
        var ajax = new Ajax();
        ajax.getProjects(loadReleases);
    });
</script>    
</body>
</html>

